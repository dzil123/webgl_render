{"version":3,"file":"demo.js","sourceRoot":"","sources":["../../src/demo.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,mCAAmC,CAAC;AAE/E,MAAM,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC;AAE9B,MAAM,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAEtB,SAAS,GAAG,CAAC,CAAO;IAClB,SAAS,CAAC,CAAC,CAAS,EAAE,CAAS;QAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAClB,aAAa;QACb,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;IACpC,CAAC;IACD,OAAO,CAAC,GAAG,CACT,IAAI;QACF,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;QAC/C,IAAI;QACJ,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;QAC/C,IAAI;QACJ,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;QAC/C,IAAI;QACJ,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CACpD,CAAC;AACJ,CAAC;AAED,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;AACtB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AACjB,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC/C,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC7B,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;AAEV,GAAG,CAAC,CAAC,CAAC,CAAC;AAEP,yBAAyB;AACzB,2CAA2C;AAC3C,4BAA4B;AAE5B,yBAAyB;AACzB,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACxC,IAAI,CAAC,aAAa,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;AAC9B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAE1B,+BAA+B;AAE/B,MAAM,EAAE,CAAC","sourcesContent":["import * as util from \"./util.js\";\nimport { mat4, vec3, vec4, glMatrix } from \"../third-party/gl-matrix/index.js\";\n\nconst rad = glMatrix.toRadian;\n\nawait util.sleep(0.1);\n\nfunction log(m: mat4) {\n  function k(x: number, y: number): string {\n    let i = x + y * 4;\n    // @ts-ignore\n    return m[i].toFixed(4).toString();\n  }\n  console.log(\n    \"\\n\" +\n      `[ ${k(0, 0)} ${k(1, 0)} ${k(2, 0)} ${k(3, 0)}` +\n      \"\\n\" +\n      `  ${k(0, 1)} ${k(1, 1)} ${k(2, 1)} ${k(3, 1)}` +\n      \"\\n\" +\n      `  ${k(0, 2)} ${k(1, 2)} ${k(2, 2)} ${k(3, 2)}` +\n      \"\\n\" +\n      `  ${k(0, 3)} ${k(1, 3)} ${k(2, 3)} ${k(3, 3)} ]`\n  );\n}\n\nlet m = mat4.create();\nmat4.identity(m);\nmat4.translate(m, m, vec3.fromValues(0, 1, 5));\nmat4.rotateX(m, m, rad(-20));\nm[15] = 2;\n\nlog(m);\n\n// let v = vec3.create();\n// vec3.transformMat4(v, vec3.create(), m);\n// console.log(vec3.str(v));\n\n// let v4 = [0, 0, 0, 1];\nlet v4 = vec4.fromValues(0, 0.4, -1, 0);\nvec4.transformMat4(v4, v4, m);\nconsole.log(vec4.str(v4));\n\n// console.log(mat4.str(m).sl);\n\nthrow \"\";\n"]}